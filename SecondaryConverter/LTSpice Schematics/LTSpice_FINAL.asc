Version 4
SHEET 1 3044 1432
WIRE 624 64 480 64
WIRE 800 64 624 64
WIRE 912 64 880 64
WIRE 944 64 912 64
WIRE 1072 64 1008 64
WIRE 1152 64 1072 64
WIRE 1264 64 1152 64
WIRE 272 80 64 80
WIRE 416 80 272 80
WIRE 480 80 480 64
WIRE 624 80 624 64
WIRE 64 112 64 80
WIRE 272 128 272 80
WIRE 1072 128 1072 64
WIRE 1152 128 1152 64
WIRE 416 176 416 80
WIRE 480 176 480 144
WIRE 480 176 416 176
WIRE 912 176 912 64
WIRE 624 192 624 144
WIRE 624 192 400 192
WIRE 480 208 480 176
WIRE 624 208 624 192
WIRE 64 256 64 192
WIRE 176 256 64 256
WIRE 272 256 272 192
WIRE 272 256 176 256
WIRE 400 256 400 192
WIRE 400 256 272 256
WIRE 864 256 816 256
WIRE 176 272 176 256
WIRE 480 304 480 272
WIRE 624 304 624 272
WIRE 624 304 480 304
WIRE 912 304 912 272
WIRE 912 304 624 304
WIRE 1072 304 1072 192
WIRE 1072 304 912 304
WIRE 1152 304 1152 192
WIRE 1152 304 1072 304
WIRE -1424 592 -1424 560
WIRE 736 1072 736 1056
WIRE -80 1088 -160 1088
WIRE 16 1088 -80 1088
WIRE 672 1120 640 1120
WIRE -224 1136 -272 1136
WIRE 816 1168 736 1168
WIRE -272 1200 -272 1136
WIRE -160 1216 -160 1184
WIRE 672 1216 640 1216
FLAG -272 1280 0
FLAG 176 272 0
FLAG 816 256 TotemOut
FLAG -1424 672 0
FLAG -1424 480 TotemOutIdeal
FLAG 1264 64 Vout
FLAG -160 1216 0
FLAG -1024 592 VoutIdeal
FLAG -1024 672 0
FLAG -608 672 0
FLAG -608 592 3v3Source
FLAG -80 1008 RectOut
FLAG 16 1088 PWMIncreasedOut
FLAG 896 1168 TotemOut
FLAG 816 1056 RectOut
FLAG 560 1120 PWMIncreasedOut
FLAG 560 1216 PWMIncreasedOut
FLAG 736 1264 0
FLAG 624 64 RectOut
SYMBOL voltage 64 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 8 150k 0 0 0 100)
SYMBOL cap 256 128 R0
SYMATTR InstName C1
SYMATTR Value 300p
SYMBOL diode 496 144 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 640 144 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode 496 272 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode 640 272 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL ind 784 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMBOL voltage -272 1184 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 0 0 0 10u 20u 10)
SYMBOL npn 672 1072 R0
SYMATTR InstName Q1
SYMBOL npn -224 1088 R0
SYMATTR InstName Q3
SYMBOL diode 944 80 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMBOL cap 1056 128 R0
SYMATTR InstName C2
SYMATTR Value 10p
SYMBOL res 912 1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL voltage -1424 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 20 0 0 0 1u 20u 10)
SYMBOL res -1440 464 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res 832 1040 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL voltage -1024 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(3 15 0 0 0 20u 20u 10)
SYMBOL voltage -608 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 3.3
SYMBOL nmos 864 176 R0
SYMATTR InstName M1
SYMATTR Value FQP33N10
SYMATTR Prefix X
SYMBOL cap 1136 128 R0
SYMATTR InstName C3
SYMATTR Value 10p
SYMBOL res -96 992 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 656 1104 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 656 1200 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL pnp 672 1264 M180
SYMATTR InstName Q4
TEXT 32 328 Left 2 !.tran 1m
TEXT 1536 1088 Left 2 !.lib OptiMOS5_80V_LTSpice.lib
TEXT 1576 280 Left 2 ;3v3Source drives totem pole etc w/ mosfet fine, will this be okay or is it just simulation inaccuracy?
TEXT 1576 328 Left 2 ;VoutIdeal also drives totem pole etc w/ mosfet fine, but actual Vout causes simulation not to run (or take a very long time)
TEXT 1536 1136 Left 2 !.lib FQP33N10.lib
TEXT 1576 416 Left 2 ;Voltage drops a lot when switch is on, capacitance not high enough?
TEXT 1576 464 Left 2 ;Tried changing capacitor values - no change
TEXT 1576 512 Left 2 ;Increased pwm frequency - less drop but higher voltage. If duty cycle is changed then the same drops still exist
TEXT 488 952 Left 2 ;Totem Pole - Boost Mosfet Gate Current
TEXT -192 848 Left 2 ;Fet Gate Voltage Booster
TEXT -1088 336 Left 2 ;Ideal Sources
TEXT 2152 128 Left 2 ;Notes
TEXT 1672 968 Left 2 ;Additional Libraries
TEXT 520 -8 Left 2 ;Main Circuitry
TEXT 1584 592 Left 2 ;Ltspice crashes when Fet gate is connected to npn or totem
RECTANGLE Normal -448 752 -1552 304 2
RECTANGLE Normal 3040 800 1504 96 2
RECTANGLE Normal 2096 1296 1504 944 2
RECTANGLE Normal 1392 432 -112 -32 2
RECTANGLE Normal 272 1328 -416 816 2
RECTANGLE Normal 1072 1312 320 912 2
